# NP-완전 문제의 특성

- NP -완전 문제의 특성을 알기 위해 어떤 문제를 다른 문제로 변환하는 과정을 이해햐여야한다.

- 문제의 변환
  - 문제 A를 해결하기 위해서 문제 B를 해결하는 알고리즘을 이용하는 것을 의미
- 문제의 변환 과정
  - 먼저 문제 A의 입력을 문제 B의 입력 형태로 변환시키고,
  - 변환된 입력으로 문제 B를 해결하는 알고리즘을 수행
  - 마지막으로 수행 결과인 해를 문제 A의 해로 변환


# 문제의 변환 과정

![변환과정](https://user-images.githubusercontent.com/86418674/172484362-c3d48ede-bbf7-49e5-959c-798542d6353a.png)


# 문제 변환 
- 문제 A = 부분 집합의 합 문제
  - 정수의 집합 S에 대해, 부분 집합의 합 문제는 S의 부분 집합들 중에서 원소의 합이 K가 되는 부분 집합을 찾는 문제
  - 모든 부분집합의 합, 지수시간 복잡도
  - 예를 들어 S={20,35,45,70,80} 이고 K=105라면 , {35,70} 의 원소의 합이 105가 되므로, 문제의 해는 {35,70}
- 문제 B = 분할(Partition) 문제
  - 정수의 집합 S에 대해, S를 분할하여 원소들의 합이 같은 2개의 부분 집합을 찾는 문제
  - 예를 들어 S={20,35,45,70,80} 이 주어지면, X={20,35,70} 과 Y = {45,80}이 해 
  - 왜냐하면 X의 원소의 합이 125이고 Y의 원소 합도 125로 같기 때문.


# 변환 아이디어
- 부분 집합의 합 문제의 입력인 집합 S를 분할 문제의 입력으로 변환할 때 t를 집합 S에 추가 (이때 , t = s - 2k)
- 단, s는 집합 S의 모든 원소의 합
- 부분 집합의 합 문제를 해결하기 위해서 집합 S' = S U {t] 를 입력으로 하는 분할 문제를 위한 알고리즘을 이용
- 분할 문제 알고리즘의 해인 2개의 집합 X와 Y 에 대해, X에 속한 원소의 합과 Y에 속한 원소의 합이 같으므로, 
각각의 합은 s+t = 2(s-k) 를 반으로나눈 (s-k)
- 따라서 분할 문제의 해인 X와 Y 중에서 t를 가진 집합에서 t를 제거한 집합이 부분 집합의 합 문제의 해가 된다.
- 왜냐하면 만일 X에 t가 속해있었다면, X에서 t를 제외한 원소의 합이 s-k-t = (s-k) -(s-2k) =k 가 되기 때문이다. 
- 그러므로 부분 집합의 합 문제의 해는 바로 x-t이다.

![변환](https://user-images.githubusercontent.com/86418674/172486360-c1408e71-b453-4d2d-afec-738c65b07169.png)


# 문제 변환과 시간 복잡도
: 문제를 변환하는 전 과정의 시간 복잡도는 다음의 3단계의 시간 복잡도의 합
  - 문제 A의 입력을 문제 B의 입력으로 변환하는 시간
  - 문제 B를 위한 알고리즘이 수행되는 시간
  - 문제 B의 해를 문제 A의 해로 변환하는 시간
  - 첫단계와 세번째 단계는 단순한 입출력 변환이므로 다항식 시간에 수행
  - 두번째 단계
    - 문제 변환의 시간 복잡도는 두번째 단계의 시간복잡도에 따라 결정된다.
    - 두번째 단계가 다항식 시간이 걸리면, A도 다항식 시간이 걸린다.


# 추이 관계
- 문제 A와 문제 B 사이에 다항식 시간 변환 관계가 성립하면, 문제 A가 문제 B로 다항식 시간에 변환 가능하다고 한다.
- 동시에 문제 B가 문제 C로 다항식 시간에 변환 가능하면, 결국 문제 A가 문제 C로 다항식 시간에 변환 가능하다.
- 이러한 추이 관계로 NP-완전 문제들이 서로 얽혀있어서,  NP완전 문제들 중에서 어느 한 문제만 다항식 시간에 해결되면, 모든 다른 NP-완전 문제들이 다항식 시간에 해결된다.


- TSP 문제로 변환 
- TSP 는 모든 경로가 있다고 가정. 
- 없는 경로는 점선으로 표시. 
- 점선을 한번이라도 지난다면 사이클이 없는것. 


![해밀턴](https://user-images.githubusercontent.com/86418674/172487688-5d6b043c-60e7-4d36-8e42-08aad32ded08.png)


